(this["webpackJsonpcrypto-bot"]=this["webpackJsonpcrypto-bot"]||[]).push([[0],{58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),s=n(39),i=n(13),u=n.n(i),l=n(26),p=n(33),m=n(97),d=n(92),b=n(91),f=n(95),g=n(96),y=n(41),h=Object(y.a)({palette:{type:"dark",primary:{main:"#bb86fc"},secondary:{main:"#03dac6"},background:{default:"#121212",paper:"#121212"},error:{main:"#cf6679"}},props:{MuiTextField:{variant:"filled"}}}),j=n(10);function v(e){return Uint8Array.from({length:e.length},(function(t,n){return e.charCodeAt(n)}))}function O(e){return Array.from(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}function w(){var e=x(),t=Object(a.useState)(""),n=Object(p.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),i=Object(p.a)(o,2),f=i[0],y=i[1];function w(){return(w=Object(l.a)(u.a.mark((function e(){var t,n,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.importKey("raw",v(f),{name:"HMAC",hash:"SHA-256"},!0,["sign"]);case 2:return t=e.sent,n=Date.now(),a="timestamp=".concat(n),e.next=7,crypto.subtle.sign("HMAC",t,v(a));case 7:return c=e.sent,e.next=10,fetch("/api/v3/account?".concat(a,"&signature=").concat(O(c)),{headers:{"X-MBX-APIKEY":r}});case 10:return o=e.sent,e.t0=console,e.next=14,o.json();case 14:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(l.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WebSocket("wss://stream.binance.com:9443/ws/!miniTicker@arr"),n={},a=Date.now(),t.onmessage=function(){var e=Object(l.a)(u.a.mark((function e(r){var c,o,i,m,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=JSON.parse(r.data).map((function(e){var t=e.e,n=e.E,a=e.s,r=e.c,c=e.o,o=e.h,s=e.l,i=e.v,u=e.q;return{eventType:t,eventTime:n,symbol:a,closePrice:Number(r),openPrice:Number(c),highPrice:Number(o),lowPrice:Number(s),totalTradedBaseAssetVolume:Number(i),totalTradedQuoteAssetVolume:Number(u)}})),o=Object(s.a)(c);try{for(o.s();!(i=o.n()).done;)(m=i.value).symbol.endsWith("BUSD")&&(n[m.symbol]=m)}catch(b){o.e(b)}finally{o.f()}if(console.log("Tickers loaded:",Object.keys(n).length),!(Date.now()-a>1e4)){e.next=10;break}return t.close(),d=Object.values(n).sort((function(e,t){return t.totalTradedQuoteAssetVolume-e.totalTradedQuoteAssetVolume})).slice(0,3),console.log(d),e.next=10,Promise.all(d.map(function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v3/klines?symbol=".concat(t.symbol,"&interval=5m"));case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,r=a.map((function(e){var t=Object(p.a)(e,11);return{openTime:t[0],open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5],closeTime:t[6],quoteAssetVolume:t[7],tradesCount:t[8],takerBuyBaseAssetVolume:t[9],takerBuyQuoteAssetVolume:t[10]}})),console.log("".concat(t.symbol,":"),r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e,t;c(null!==(e=localStorage.getItem("apiKey"))&&void 0!==e?e:""),y(null!==(t=localStorage.getItem("secretKey"))&&void 0!==t?t:"")}),[]),Object(j.jsxs)(b.a,{theme:h,children:[Object(j.jsx)(d.a,{}),Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsxs)("div",{className:e.account,children:[Object(j.jsx)(g.a,{id:"api-key",label:"API Key",type:"password",value:r,onChange:function(e){c(e.target.value),localStorage.setItem("apiKey",e.target.value)}}),Object(j.jsx)(g.a,{id:"api-secret",label:"Secret Key",type:"password",value:f,onChange:function(e){y(e.target.value),localStorage.setItem("secretKey",e.target.value)}}),Object(j.jsx)(m.a,{disabled:!(r&&f),onClick:function(){return w.apply(this,arguments)},children:"Get account information"})]}),Object(j.jsx)(m.a,{variant:"outlined",onClick:function(){return k.apply(this,arguments)},children:"Subscribe to ticker stream"}),Object(j.jsx)(m.a,{className:e.mainAction,variant:"contained",color:"primary",children:"Test"})]})]})}var x=Object(f.a)((function(e){return{root:{margin:e.spacing(2),display:"grid",gridAutoFlow:"column",gridTemplateColumns:"auto 1fr",gridTemplateRows:"repeat(2, auto)",rowGap:e.spacing(3)},account:{display:"grid",rowGap:e.spacing(1)},mainAction:{justifySelf:"center",alignSelf:"center"}}})),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),k()}},[[58,1,2]]]);
//# sourceMappingURL=main.f3ab15c2.chunk.js.map