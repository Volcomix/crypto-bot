(this["webpackJsonpcrypto-bot"]=this["webpackJsonpcrypto-bot"]||[]).push([[0],{59:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(9),o=r.n(c),s=r(97),i=r(96),u=r(94),l=r(11),m=r.n(l),p=r(13),b=r(99),f=r(98);function d(e){return Uint8Array.from({length:e.length},(function(t,r){return e.charCodeAt(r)}))}function h(e){return Array.from(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}var g=r(15);var j=r(6);function y(){var e=v(),t=function(){var e=Object(n.useState)(""),t=Object(g.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),o=Object(g.a)(c,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){var e,t;a(null!==(e=localStorage.getItem("apiKey"))&&void 0!==e?e:""),i(null!==(t=localStorage.getItem("secretKey"))&&void 0!==t?t:"")}),[]),{apiKey:r,secretKey:s,updateApiKey:function(e){localStorage.setItem("apiKey",e),a(e)},updateSecretKey:function(e){localStorage.setItem("secretKey",e),i(e)}}}(),r=t.apiKey,a=t.secretKey,c=t.updateApiKey,o=t.updateSecretKey;function s(){return(s=Object(p.a)(m.a.mark((function e(){var t,n,c,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.importKey("raw",d(a),{name:"HMAC",hash:"SHA-256"},!0,["sign"]);case 2:return t=e.sent,n=Date.now(),c="timestamp=".concat(n),e.next=7,crypto.subtle.sign("HMAC",t,d(c));case 7:return o=e.sent,e.next=10,fetch("/api/v3/account?".concat(c,"&signature=").concat(h(o)),{headers:{"X-MBX-APIKEY":r}});case 10:return s=e.sent,e.t0=console,e.next=14,s.json();case 14:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(f.a,{id:"api-key",label:"API Key",type:"password",value:r,onChange:function(e){return c(e.target.value)}}),Object(j.jsx)(f.a,{id:"api-secret",label:"Secret Key",type:"password",value:a,onChange:function(e){return o(e.target.value)}}),Object(j.jsx)(b.a,{disabled:!(r&&a),onClick:function(){return s.apply(this,arguments)},children:"Get account information"})]})}var v=Object(u.a)((function(e){return{root:{display:"grid",rowGap:e.spacing(1)}}})),O=r(95);function x(){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(m.a.mark((function e(){var t,r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Number(localStorage.getItem("tickersTimestamp")),!(Date.now()-t<3e5)){e.next=3;break}return e.abrupt("return",JSON.parse(localStorage.getItem("tickers")));case 3:return e.next=5,fetch("/api/v3/ticker/24hr");case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,a=n.map((function(e){return{symbol:e.symbol,priceChange:Number(e.priceChange),priceChangePercent:Number(e.priceChangePercent),weightedAvgPrice:Number(e.weightedAvgPrice),prevClosePrice:Number(e.prevClosePrice),lastPrice:Number(e.lastPrice),lastQty:Number(e.lastQty),bidPrice:Number(e.bidPrice),askPrice:Number(e.askPrice),openPrice:Number(e.openPrice),highPrice:Number(e.highPrice),lowPrice:Number(e.lowPrice),volume:Number(e.volume),quoteVolume:Number(e.quoteVolume),openTime:e.openTime,closeTime:e.closeTime,firstId:e.firstId,lastId:e.lastId,count:e.count}})),localStorage.setItem("tickersTimestamp",Date.now().toString()),localStorage.setItem("tickers",JSON.stringify(a)),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return k.apply(this,arguments)}function k(){return(k=Object(p.a)(m.a.mark((function e(t,r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v3/klines?symbol=".concat(t,"&interval=").concat(r));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.map((function(e){var t=Object(g.a)(e,11),r=t[0],n=t[1],a=t[2],c=t[3],o=t[4],s=t[5],i=t[6],u=t[7],l=t[8],m=t[9],p=t[10];return{openTime:r,open:Number(n),high:Number(a),low:Number(c),close:Number(o),volume:Number(s),closeTime:i,quoteAssetVolume:Number(u),numberOfTrades:l,takerBuyBaseAssetVolume:Number(m),takerBuyQuoteAssetVolume:Number(p)}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){var e=S(),t=Object(n.useState)(!1),r=Object(g.a)(t,2),c=r[0],o=r[1],s=Object(n.useState)([]),i=Object(g.a)(s,2),u=i[0],l=i[1],f=Object(n.useState)([]),d=Object(g.a)(f,2),h=d[0],y=d[1];function v(){return(v=Object(p.a)(m.a.mark((function e(){var t,r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,x();case 3:return t=e.sent,r=t.filter((function(e){return e.symbol.endsWith("BUSD")})).sort((function(e,t){return t.quoteVolume-e.quoteVolume})).slice(0,3),l(r.map((function(e){return e.symbol}))),y(Array.from({length:Math.pow(2,r.length)},(function(){return Array.from({length:r.length},(function(){return 0}))}))),e.next=9,Promise.all(r.map((function(e){return N(e.symbol,"5m")})));case 9:n=e.sent,console.log(n),a=Math.floor(500*Math.random()),console.log(n.map((function(e){return e[a].openTime}))),o(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(b.a,{variant:"contained",color:"primary",onClick:function(){return v.apply(this,arguments)},children:c?"Cancel":"Learn"}),Object(j.jsxs)("div",{className:e.table,children:[u.map((function(e){return Object(j.jsx)(O.a,{variant:"body2",children:e},e)})),u.map((function(e){return Object(j.jsx)(O.a,{variant:"body1",children:e},e)})),h.map((function(e,t){return Object(j.jsxs)(a.a.Fragment,{children:[u.map((function(e){return Object(j.jsx)(O.a,{variant:"body2"},e)})),e.map((function(e,t){return Object(j.jsx)(O.a,{variant:"body2",children:e},t)}))]},t)}))]})]})}var S=Object(u.a)((function(e){return{root:{gridRow:"1 / -1",display:"grid",rowGap:e.spacing(2),justifyItems:"center"},table:{display:"grid",gridTemplateColumns:"repeat(6, auto)",gap:e.spacing(1),justifyItems:"center",alignItems:"center"}}})),T=r(42);function A(){return C.apply(this,arguments)}function C(){return(C=Object(p.a)(m.a.mark((function e(){var t,r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WebSocket("wss://stream.binance.com:9443/ws/!miniTicker@arr"),r={},n=Date.now(),t.onmessage=function(){var e=Object(p.a)(m.a.mark((function e(a){var c,o,s,i,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=JSON.parse(a.data).map((function(e){var t=e.e,r=e.E,n=e.s,a=e.c,c=e.o,o=e.h,s=e.l,i=e.v,u=e.q;return{eventType:t,eventTime:r,symbol:n,closePrice:Number(a),openPrice:Number(c),highPrice:Number(o),lowPrice:Number(s),totalTradedBaseAssetVolume:Number(i),totalTradedQuoteAssetVolume:Number(u)}})),o=Object(T.a)(c);try{for(o.s();!(s=o.n()).done;)(i=s.value).symbol.endsWith("BUSD")&&(r[i.symbol]=i)}catch(l){o.e(l)}finally{o.f()}if(console.log("Tickers loaded:",Object.keys(r).length),!(Date.now()-n>1e4)){e.next=10;break}return t.close(),u=Object.values(r).sort((function(e,t){return t.totalTradedQuoteAssetVolume-e.totalTradedQuoteAssetVolume})).slice(0,3),console.log(u),e.next=10,Promise.all(u.map(function(){var e=Object(p.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t.symbol,"5m");case 2:r=e.sent,console.log("".concat(t.symbol,":"),r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return Object(j.jsx)(b.a,{variant:"outlined",onClick:A,children:"Test streaming"})}var K=r(43),V=Object(K.a)({palette:{type:"dark",primary:{main:"#bb86fc"},secondary:{main:"#03dac6"},background:{default:"#121212",paper:"#121212"},error:{main:"#cf6679"}},props:{MuiTextField:{variant:"filled"}}});function B(){var e=D();return Object(j.jsxs)(i.a,{theme:V,children:[Object(j.jsx)(s.a,{}),Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(y,{}),Object(j.jsx)(I,{}),Object(j.jsx)(P,{})]})]})}var D=Object(u.a)((function(e){return{root:{margin:e.spacing(2),display:"grid",gridAutoFlow:"column",gridTemplateColumns:"auto 1fr",gridTemplateRows:"max-content auto",alignItems:"start",rowGap:e.spacing(3)}}})),M=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,100)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root")),M()}},[[59,1,2]]]);
//# sourceMappingURL=main.1db982bd.chunk.js.map