(this["webpackJsonpcrypto-bot"]=this["webpackJsonpcrypto-bot"]||[]).push([[0],{59:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(7),o=r.n(c),s=r(95),i=r(94),u=r(93),l=r(11),p=r.n(l),m=r(13),b=r(97),f=r(96);function d(e){return Uint8Array.from({length:e.length},(function(t,r){return e.charCodeAt(r)}))}function g(e){return Array.from(new Uint8Array(e)).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}var y=r(20);var h=r(10);function v(){var e=j(),t=function(){var e=Object(n.useState)(""),t=Object(y.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),o=Object(y.a)(c,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){var e,t;a(null!==(e=localStorage.getItem("apiKey"))&&void 0!==e?e:""),i(null!==(t=localStorage.getItem("secretKey"))&&void 0!==t?t:"")}),[]),{apiKey:r,secretKey:s,updateApiKey:function(e){localStorage.setItem("apiKey",e),a(e)},updateSecretKey:function(e){localStorage.setItem("secretKey",e),i(e)}}}(),r=t.apiKey,a=t.secretKey,c=t.updateApiKey,o=t.updateSecretKey;function s(){return(s=Object(m.a)(p.a.mark((function e(){var t,n,c,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,crypto.subtle.importKey("raw",d(a),{name:"HMAC",hash:"SHA-256"},!0,["sign"]);case 2:return t=e.sent,n=Date.now(),c="timestamp=".concat(n),e.next=7,crypto.subtle.sign("HMAC",t,d(c));case 7:return o=e.sent,e.next=10,fetch("/api/v3/account?".concat(c,"&signature=").concat(g(o)),{headers:{"X-MBX-APIKEY":r}});case 10:return s=e.sent,e.t0=console,e.next=14,s.json();case 14:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsx)(f.a,{id:"api-key",label:"API Key",type:"password",value:r,onChange:function(e){return c(e.target.value)}}),Object(h.jsx)(f.a,{id:"api-secret",label:"Secret Key",type:"password",value:a,onChange:function(e){return o(e.target.value)}}),Object(h.jsx)(b.a,{disabled:!(r&&a),onClick:function(){return s.apply(this,arguments)},children:"Get account information"})]})}var j=Object(u.a)((function(e){return{root:{display:"grid",rowGap:e.spacing(1)}}}));function O(){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(p.a.mark((function e(){var t,r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Number(localStorage.getItem("tickersTimestamp")),!(Date.now()-t<3e5)){e.next=3;break}return e.abrupt("return",JSON.parse(localStorage.getItem("tickers")));case 3:return e.next=5,fetch("/api/v3/ticker/24hr");case 5:return r=e.sent,e.next=8,r.json();case 8:return n=e.sent,a=n.map((function(e){return{symbol:e.symbol,priceChange:Number(e.priceChange),priceChangePercent:Number(e.priceChangePercent),weightedAvgPrice:Number(e.weightedAvgPrice),prevClosePrice:Number(e.prevClosePrice),lastPrice:Number(e.lastPrice),lastQty:Number(e.lastQty),bidPrice:Number(e.bidPrice),askPrice:Number(e.askPrice),openPrice:Number(e.openPrice),highPrice:Number(e.highPrice),lowPrice:Number(e.lowPrice),volume:Number(e.volume),quoteVolume:Number(e.quoteVolume),openTime:e.openTime,closeTime:e.closeTime,firstId:e.firstId,lastId:e.lastId,count:e.count}})),localStorage.setItem("tickersTimestamp",Date.now().toString()),localStorage.setItem("tickers",JSON.stringify(a)),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){var e=k(),t=Object(n.useState)(!1),r=Object(y.a)(t,2),a=r[0],c=r[1];function o(){return(o=Object(m.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,O();case 3:t=e.sent,r=t.filter((function(e){return e.symbol.endsWith("BUSD")})).sort((function(e,t){return t.quoteVolume-e.quoteVolume})).slice(0,3),console.log(r),c(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(b.a,{className:e.root,variant:"contained",color:"primary",onClick:function(){return o.apply(this,arguments)},children:a?"Cancel":"Learn"})}var k=Object(u.a)((function(e){return{root:{justifySelf:"center",alignSelf:"center"}}})),S=r(42);function P(){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WebSocket("wss://stream.binance.com:9443/ws/!miniTicker@arr"),r={},n=Date.now(),t.onmessage=function(){var e=Object(m.a)(p.a.mark((function e(a){var c,o,s,i,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=JSON.parse(a.data).map((function(e){var t=e.e,r=e.E,n=e.s,a=e.c,c=e.o,o=e.h,s=e.l,i=e.v,u=e.q;return{eventType:t,eventTime:r,symbol:n,closePrice:Number(a),openPrice:Number(c),highPrice:Number(o),lowPrice:Number(s),totalTradedBaseAssetVolume:Number(i),totalTradedQuoteAssetVolume:Number(u)}})),o=Object(S.a)(c);try{for(o.s();!(s=o.n()).done;)(i=s.value).symbol.endsWith("BUSD")&&(r[i.symbol]=i)}catch(l){o.e(l)}finally{o.f()}if(console.log("Tickers loaded:",Object.keys(r).length),!(Date.now()-n>1e4)){e.next=10;break}return t.close(),u=Object.values(r).sort((function(e,t){return t.totalTradedQuoteAssetVolume-e.totalTradedQuoteAssetVolume})).slice(0,3),console.log(u),e.next=10,Promise.all(u.map(function(){var e=Object(m.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v3/klines?symbol=".concat(t.symbol,"&interval=5m"));case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,a=n.map((function(e){var t=Object(y.a)(e,11);return{openTime:t[0],open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5],closeTime:t[6],quoteAssetVolume:t[7],tradesCount:t[8],takerBuyBaseAssetVolume:t[9],takerBuyQuoteAssetVolume:t[10]}})),console.log("".concat(t.symbol,":"),a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return Object(h.jsx)(b.a,{variant:"outlined",onClick:P,children:"Test streaming"})}var A=r(43),C=Object(A.a)({palette:{type:"dark",primary:{main:"#bb86fc"},secondary:{main:"#03dac6"},background:{default:"#121212",paper:"#121212"},error:{main:"#cf6679"}},props:{MuiTextField:{variant:"filled"}}});function I(){var e=K();return Object(h.jsxs)(i.a,{theme:C,children:[Object(h.jsx)(s.a,{}),Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsx)(v,{}),Object(h.jsx)(T,{}),Object(h.jsx)(x,{})]})]})}var K=Object(u.a)((function(e){return{root:{margin:e.spacing(2),display:"grid",gridAutoFlow:"column",gridTemplateColumns:"auto 1fr",gridTemplateRows:"repeat(2, auto)",rowGap:e.spacing(3)}}})),V=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,98)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root")),V()}},[[59,1,2]]]);
//# sourceMappingURL=main.efcd58b2.chunk.js.map